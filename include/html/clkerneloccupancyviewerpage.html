<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>AMDAPPProfilerHelp: APP Profiler Kernel Occupancy Viewer</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="contents">
<h1><a class="anchor" name="CLKernelOccupancyViewerPage">APP Profiler Kernel Occupancy Viewer </a></h1><div align="center">
<img src="OccupancyViewer.png" alt="OccupancyViewer.png">
</div>
<p>
There are three ways to open the Kernel Occupancy panel: <ol>
<li>
Click on the <a class="el" href="clkerneloccupancydescriptionpage.html">kernel occupancy percentage </a> in the Kernel Occupancy column of the <a class="el" href="clsessionpage.html">APP Profiler Session </a> panel. </li>
<li>
Click on the <a class="el" href="clkerneloccupancydescriptionpage.html">kernel occupancy percentage </a> in the Kernel Occupancy column of the API Trace in the <a class="el" href="cltimelinepage.html">APP Profiler Timeline</a> panel. </li>
<li>
Select the <b>View -&gt; Other Windows -&gt; APP Profiler Kernel Occupancy Viewer</b> menu item from the Visual Studio main menu bar. </li>
</ol>
<p>
For OpenCL&trade; kernels, this panel displays an HTML webpage which provides information about the occupancy of a particular kernel dispatch.<p>
The top part of the page shows several graphs which provide a visual indication of how kernel resources affect the theoretical number of in-flight wavefronts on a compute unit. Depending on the type of GPU device, there will be either three or four graphs displayed. There will only be four graphs if the kernel is dispatched to an AMD Radeon&trade; HD 7000 series GPU device (based on Graphics Core Next Architecture/Southern Islands) or newer. The graph representing the limiting resource will have its title displayed in red text. More than one graph could have a red title if there is more than one limiting resource. In each graph, the actual usage of the particular resource being graphed is highlighted with an orange square. If you hover the mouse over a point in the graph, a popup hint will be displayed showing you the current X and Y values at that location.<p>
The first graph, titled <b>Number of waves limited by Work-group size</b> shows how the number of active wavefronts is affected by the size of the work-group for the dispatched kernel. In the above screenshot, you can see that the highest number of wavefronts is achieved when the work-group size is in the range of 64 to 256.<p>
The second graph, titled <b>Number of waves limited by VGPRs.</b> shows how the number of active wavefronts is affected by the number of vector GPRs used by the dispatched kernel. In the above screenshot, you can see that as the number of VGPRs used increases, the number active wavefronts decreases in steps. Note that this graph shows that more than 62 VGPRs can be allocated, even though 62 is the maximum number of VGPRs that can be allocated since the Shader Compiler assumes the work-group size is 256 items by default (the largest possible work-group size). For the Shader Compiler to allocate more than 62 VGPRs, the kernel source code would need to be marked with the reqd_work_group_size kernel attribute. This attribute can tell the Shader Compiler that the kernel will be launched with a work-group size smaller than the maximum, allowing it to allocate more VGPRs. Thus, for X-axis values greater than 62, the VGPR graph shows the theoretical number of wavefronts that could be launched if the kernel specified a smaller work-group size using the attribute.<p>
The third graph, titled <b>Number of waves limited by SGPRs</b> shows how the number of active wavefronts is affected by the number of scalar GPRs used by the dispatched kernel. This graph is only displayed for kernels dispatched to an AMD Radeon&trade; HD 7000 series GPU device (based on Graphics Core Next Architecture/Southern Islands) or newer . In the above screenshot, you can see that as the number of SGPRs used increases, the number active wavefronts decreases in steps.<p>
The fourth graph, titled <b>Number of waves limited by LDS</b> shows how the number of active wavefronts is affected by the amount of LDS used by the dispatched kernel. In the above screenshot, you can see that as the amount of LDS used increases, the number active wavefronts decreases in steps.<p>
Below the four graphs, a table is displayed, providing information about the device, the kernel, and the kernel occupancy. In the <b>Kernel Occupancy</b> section, you can see the limits imposed by each kernel resource, as well as which resource is currently limiting the number of waves for the kernel dispatch. This section also displays the <a class="el" href="clkerneloccupancydescriptionpage.html">kernel occupancy </a> percentage. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Apr 16 10:53:42 2012 for AMDAPPProfilerHelp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
