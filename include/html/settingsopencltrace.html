<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>AMDAPPProfilerHelp: OpenCL&trade; Trace Page</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.6 -->
<div class="contents">
<h1><a class="anchor" name="SettingsOpenCLTrace">OpenCL&trade; Trace Page </a></h1>This page contains two subpages that allow you to configure the behavior of the profiler when it performs an application trace.<p>
<h1>Trace Options Page</h1>
<p>
<div align="center">
<img src="CLTraceSettings.png" alt="CLTraceSettings.png">
</div>
<p>
<h2>Trace Options</h2>
<p>
<ul>
<li><b>Always show API error codes</b> When checked, the profiler will always report the return codes for all OpenCL&trade; API calls. Some OpenCL&trade; API functions return an error code via a passed-in parameter. If the host application passes in NULL for that parameter, then the OpenCL&trade; runtime will not report an error code. The profiler will substitute a non-null parameter in this case and the API Trace will be able to show the return code.</li><li><b>Collapse consecutive identical clGetEventInfo calls</b> Some OpenCL&trade; applications will wait for certain Enqueue API calls to complete by continuously checking the status of the event returned by the Enqueue API. These applications do this by calling clGetEventInfo within a loop until the event status reaches a certain state (typically <b>CL_COMPLETE</b>). For these applications, the timeline and API trace could contain thousands of clGetEventInfo calls, making it difficult to easily analyze the timeline and trace data. In order to make analysis easier, the profiler can collapse consecutive clGetEventInfo calls that have the same parameters and return values, into a single entry in the timeline and API trace.</li><li><b>Enable navigation to source code (high overhead)</b> When checked, the profiler will generate a symbol information file from an application's .pdb file, containing one entry for each OpenCL&trade; API that is called. This symbol information file will allow the user to navigate from an item in the API Trace in the <a class="el" href="cltimelinepage.html">APP Profiler Timeline</a> panel to the source location of the API call.</li><li><b>Maximum number of APIs to trace</b> This setting controls how many APIs will be traced over an application's lifetime. The default number of APIs to trace is 1 million. Limiting the number of APIs traced will help to prevent running out of memory while profiling. After the limit is reached, any additional APIs will not be traced, and the trace results will not include any additional information. Because of this, any information provided in the <a class="el" href="clsummarypage.html">Summary pages</a> may not be correct, as a complete trace is required in order to provide a fully-accurate application summary.</li><li><b>Generate summary pages</b> When checked, the profiler will automatically generate <a class="el" href="clsummarypage.html">Summary Pages</a> using the API trace and timeline data. You can further configure the summary pages by selecting rules to be used when generating the Warning(s)/Error(s) Summary page. Rules currently supported are shown in the table below: <table border="1" cellspacing="3" cellpadding="3">
<tr>
<td><b>Rule</b> </td><td><b>Description</b>  </td></tr>
<tr>
<td>Detect resource leaks </td><td>Tracks the reference count for all OpenCL&trade; objects, and reports any objects which are never released.  </td></tr>
<tr>
<td>Detect deprecated API calls </td><td>Detects calls to OpenCL&trade; API functions that have been deprecated in recent versions of OpenCL&trade;  </td></tr>
<tr>
<td>Detect unnecessary blocking writes </td><td>Detects unnecessary blocking write operations.  </td></tr>
<tr>
<td>Detect non-optimized work size </td><td>Detect clEnqueueNDRangeKernel calls which specify a global or local workgroup size which is non-optimal for AMD Hardware.  </td></tr>
<tr>
<td>Detect non-optimized data transfer </td><td>1. Detect Non-Fusion APU access to Device-Visible Host Memory directly.<br>
 2. Detect Host-Visible Device Memory read back to CPU directly.  </td></tr>
<tr>
<td>Detect redundant synchronization </td><td>Detect redundant synchronization which results in low host and device utilization  </td></tr>
<tr>
<td>Detect failed API calls </td><td>Detect OpenCL&trade; API calls that do not return CL_SUCCESS.<br>
 Some of the return codes may not be detected unless <b>Always show API error codes</b> option is checked.  </td></tr>
</table>
</li><li><b>APIs to trace</b> When checked, you can tell the profiler which APIs you want it to trace. By limiting the APIs to trace, you can focus attention on particular APIs when analyzing trace data, while also reducing the overhead of performing a trace. Because a full trace is required in order to generate the Summary pages, this option is mutually exclusive with the <b>Generate summary pages</b> option. Use the treeview below the option to select which APIs the profiler should trace.</li></ul>
<p>
<h1>Display and Output Options Page</h1>
<p>
<div align="center">
<img src="CLTraceSettingsDisplayOutput.png" alt="CLTraceSettingsDisplayOutput.png">
</div>
<p>
<h2>Display Options</h2>
<p>
<ul>
<li><b>Enhanced visual effects in timeline</b> When checked, items in the API Trace timeline will be drawn using rounded corners and gradient colors. When unchecked, items will be drawn with square corners and solid colors.</li><li><b>Zoom pivot follows mouse cursor</b> When checked, the zoom pivot line in the timeline will automatically follow the mouse cursor as the mouse is moved. When unchecked, the zoom pivot line remains in a fixed location, and you must click somewhere within the timeline to reposition it.</li></ul>
<p>
<h2>Output Options</h2>
<p>
<ul>
<li><b>Write trace data at program termination</b> When selected, the profiler will wait until the application terminates before writing any trace data to disk.</li><li><b>Write trace data periodically during program execution</b> When selected, the profiler will periodically write all queued up trace data to disk during program execution. Note: this mode may introduce extra overhead to the profile data which will appear as periodic gaps in the timeline each time the queued-up data is written to disk</li><li><b>Interval at which to write trace data (in milliseconds)</b> This specifies how often any queued-up profile data will be written to disk. </li></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Apr 16 10:53:42 2012 for AMDAPPProfilerHelp by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.6 </small></address>
</body>
</html>
